{% extends 'base/base.html'%}

{% block content %}

<div id="chart-dashboard" ng-controller='dashboardController'>
    <div class="row">
        <div class="col s12 m8 l8">
            <div class="card">
                    <div class="card-move-up waves-effect waves-block waves-light">
                        <div class="move-up cyan darken-1">
                            <div>
                                <span class="chart-title white-text">RIESGO POR OFICINA</span>
                                <div class="switch chart-revenue-switch right">
                                    <select id="select-state" placeholder="Dime cuales sucursales quieres comparar..">
                                        <option value="">Sucursal..</option>
                                    </select>
                                    <button id="filter-btn" class="btn waves-effect waves-light cyan darken-2">Filtrar</button>
                                </div>
                            </div>
                            <div class="trending-line-chart-wrapper">
                                <canvas id="trending-line-chart" height="70"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="card-content">
                        <a class="btn-floating btn-move-up waves-effect waves-light darken-2 right"><i class="mdi-content-add activator"></i></a>
                        <div class="progress" ng-if='loading.offices_risk'>
                          <div class="indeterminate"></div>
                        </div>
                    </div>

                    <div class="card-reveal">
                        <span class="card-title grey-text text-darken-4">Revenue by Month <i class="mdi-navigation-close right"></i></span>
                        <table class="responsive-table">
                            <thead>
                                <tr>
                                    <th data-field="id">ID</th>
                                    <th data-field="month">Month</th>
                                    <th data-field="item-sold">Item Sold</th>
                                    <th data-field="item-price">Item Price</th>
                                    <th data-field="total-profit">Total Profit</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>January</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>February</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>March</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>April</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>5</td>
                                    <td>May</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>6</td>
                                    <td>June</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>7</td>
                                    <td>July</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>8</td>
                                    <td>August</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>9</td>
                                    <td>Septmber</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>10</td>
                                    <td>Octomber</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>11</td>
                                    <td>November</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                                <tr>
                                    <td>12</td>
                                    <td>December</td>
                                    <td>122</td>
                                    <td>100</td>
                                    <td>$122,00.00</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
        </div>
        <div class="col s12 m12 l4">
            <ul id="task-card" class="collection with-header">
                <li class="collection-header cyan">
                    <h4 class="task-card-title">Dashboard</h4>
                    <p class="task-card-date">{% now "F d, Y" %}</p>
                </li>
                <li class="collection-item dismissable">
                    <div class="switch">
                        <label> Cantidad <input type="checkbox" ng-model='settings.by_amount' ng-change='alert()'> <span class="lever"></span> Monto </label>
                      </div>
                </li>
            </ul>

        </div>
        <div class="col s12 m8 l8">
            <div class="card">
                <div class="sample-chart-wrapper">
                    <span>Top Indicadores por Incidendias</span>
                    <canvas id="top-indicadores-incidencias" height="70"></canvas>
                  </div>
            </div>
        </div>
        <div class="col s12 m8 l4">
            <div class="card">
                <div class="sample-chart-wrapper">
                    <span>Top Indicadores por Categorías</span>
                    <canvas id="top-indicadores-categorias" height="140"></canvas>
                  </div>
            </div>
        
        </div>
        <div class="col s12 m12 l6">
            <ul id="issues-collection" class="collection">
                <li class="collection-item avatar">
                    <i class="mdi-action-bug-report circle red darken-2"></i>
                    <span class="collection-header"><h5>Termometro</h5></span>
                </li>
                <li class="collection-item">
                    <div class="row">
                        <div class="col s7">
                            <p class="collections-title"><strong>#102</strong> Home Page</p>
                            <p class="collections-content">Web Project</p>
                        </div>
                        <div class="col s2">
                            <span class="task-cat pink accent-2">P1</span>
                        </div>
                        <div class="col s3">
                            <div class="progress">
                                 <div class="determinate" style="width: 70%"></div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="collection-item">
                    <div class="row">
                        <div class="col s7">
                            <p class="collections-title"><strong>#108</strong> API Fix</p>
                            <p class="collections-content">API Project </p>
                        </div>
                        <div class="col s2">
                            <span class="task-cat yellow darken-4">P2</span>
                        </div>
                        <div class="col s3">
                            <div class="progress">
                                <div class="determinate" style="width: 40%"></div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="collection-item">
                    <div class="row">
                        <div class="col s7">
                            <p class="collections-title"><strong>#205</strong> Profile page css</p>
                            <p class="collections-content">New Project </p>
                        </div>
                        <div class="col s2">
                            <span class="task-cat light-green darken-3">P3</span>
                        </div>
                        <div class="col s3">
                            <div class="progress">
                                <div class="determinate" style="width: 95%"></div>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="collection-item">
                    <div class="row">
                        <div class="col s7">
                            <p class="collections-title"><strong>#188</strong> SAP Changes</p>
                            <p class="collections-content">SAP Project</p>
                        </div>
                        <div class="col s2">
                            <span class="task-cat pink accent-2">P1</span>
                        </div>
                        <div class="col s3">
                            <div class="progress" >
                                 <div class="determinate" style="width: 10%"></div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>

<div class="row">
    <div class="col s12 m12">
        <div class="card" style="padding:2px 13px 2px 13px">
            {% include 'dashboard/map_view.html'%}
        </div>
    </div>
</div>

<script type="text/javascript" src="/static/js/modules/map_view.js"></script>

{% endblock %}

{% block scripts%}
    <!-- <script type="text/javascript" src="/static/js/chart_script.js"></script> -->
    <script>
            // var trendingLineChart = document.getElementById("top-indicadores-categorias").getContext("2d");
            //  new Chart(trendingLineChart, {
            //     type: 'bar',
            //     data: {
            //         labels : ["JAN","FEB","MAR","APR","MAY"],
            //         datasets: [
            //         {
            //             code : '333',
            //             label: "UNP UASD",
            //             backgroundColor : "rgba(128, 222, 234, 0.6)",
            //             pointRadius : 5,
            //             borderColor :  "rgba(2  55,255,255,0.8)",
            //             pointBackgroundColor : "#00bcd4",
            //             pointBorderColor : "#ffffff",
            //             pointHoverBackgroundColor : "#ffffff",
            //             pointHoverBorderColor : "#ffffff",
            //             data: [1, 5, 2, 4, 8, 5, 8]
            //         },
            //         {
            //             code : '160',
            //             label: "Ave. Tiradentes",
            //             backgroundColor : "rgba(128, 222, 234, 0.3)",
            //             strokeColor : "#80deea",
            //             pointRadius : 5,
            //             borderColor :  "rgba(255,255,255,0.8)",
            //             pointBackgroundColor : "#00bcd4",
            //             pointBorderColor : "#fff",
            //             pointHoverBackgroundColor : "#80deea",
            //             pointHoverBorderColor : "#80deea",
            //             data: [20, 8, 31, 5, 20, 32, 27]
            //         },
            //         {
            //             code : '164',
            //             label: "Dirección Gral. Tránsito Terrestre",
            //             backgroundColor : "rgba(27,133,184, 0.3)",
            //             strokeColor : "#80deea",
            //             pointRadius : 5,
            //             borderColor :  "rgba(255,255,255,0.8)",
            //             pointBackgroundColor : "#00bcd4",
            //             pointBorderColor : "#fff",
            //             pointHoverBackgroundColor : "#80deea",
            //             pointHoverBorderColor : "#80deea",
            //             data: [31, 48, 38, 21, 14, 42, 1]
            //         }
            //         ]
            //     },
            //     options: {}
            // });

            // var initialData = dataSetData.slice(0,3);
            // var selectizeInitialData = initialData.map(dataset => dataset.code);

            // var ctx = document.getElementById("trending-line-chart").getContext("2d");
            // chart_test = new Chart(ctx, {
            //     type: 'line',
            //     data: {labels : initialLabels, datasets : [] },
            //     options: {
            //         fontColor : 'white',
            //         tooltips : {
            //             backgroundColor: "rgba(255,255,255,0.8)",
            //             FontSize: 12,
            //             FontColor: "#000",
            //             TitleFontFamily: "'Roboto','Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
            //             TitleFontSize: 14,
            //             TitleFontStyle: "bold",
            //             TitleFontColor: "#000",
            //             YPadding: 8,
            //             XPadding: 16,
            //             CaretSize: 10,
            //             CornerRadius: 6
            //         },
            //         scaleLabel : {
            //             xAxes : [{
            //                 labels : {display : false }
            //             }]
            //         },
            //         scales: {
            //             yAxes: [{
            //                 gridLines: {
            //                     color: 'rgba(255,255,255,0.4)'
            //                 }
            //             }],
            //             xAxes: [{
            //                 gridLines: {
            //                     display: false
            //                 }
            //             }]
            //         },
            //         legend: {
            //             display: 'none',
            //             labels: {
            //                 fontColor: 'white'
            //             }
            //         }
            //     }
            // });

            // // new Chart(document.getElementById("doughnut-chart"), {
            // //     "type": "doughnut",
            // //     "data": {
            // //         "labels": ["Red", "Blue", "Yellow"],
            // //         "datasets": [{
            // //             "label": "My First Dataset",
            // //             "data": [300, 50, 100],
            // //             "backgroundColor": ["rgb(255, 99, 132)", "rgb(54, 162, 235)", "rgb(255, 205, 86)"]
            // //         }]
            // //     },
            // //     options : {
            // //         legend:{ display : false}
            // //     }
            // // });

            // // var myBarChart = new Chart(document.getElementById("trending-bar-chart"), {
            // //     type: 'bar',
            // //     data: {
            // //         labels : ["JAN","FEB","MAR","APR","MAY"],
            // //         datasets: [
            // //             {
            // //                 label: "Av. 27 de febrero",
            // //                 backgroundColor: "#46BFBD",
            // //                 borderColor: "#46BFBD",
            // //                 hoverBackgroundColor: "rgba(70, 191, 189, 0.4)",
            // //                 hoverBorderColor: "rgba(70, 191, 189, 0.9)",
            // //                 data: [6, 9, 8, 4, 6]
            // //             }
            // //         ]
            // //     },
            // //     options: {}
            // // });
    </script>
{% endblock %}